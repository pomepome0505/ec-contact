# 機能要件表

## 概要

株式会社ライフスタイルマート（中堅ECサイト運営企業）の問い合わせ対応システムにおける機能要件を定義する。
本システムは段階的に機能を実装する。第1フェーズでは基本機能を実装し、第2フェーズ以降で機能を拡張する。

---

## アクター定義

| アクター | 説明 |
|----------|------|
| 顧客 | ECサイトの利用者。問い合わせを送信する側。ログイン不要で利用可能 |
| サポート担当者 | 問い合わせを受けて対応する社内スタッフ。ログインが必要 |
| 管理者 | サポート担当者のうち、管理者権限を持つスタッフ。従業員管理・カテゴリ管理が可能 |

---

## 顧客向け機能

※本来はECサイトの問い合わせフォームから問い合わせ対応システムにAPI連携する想定だが、ポートフォリオとして簡単に画面からテストできるよう、同一システム内に問い合わせ機能（C-1〜C-2）を同梱。

| ID | 機能名 | 概要 |
|----|--------|------|
| C-1 | 問い合わせフォーム表示 | カテゴリ選択、注文番号（任意）、件名、本文、氏名、連絡先メールアドレスを入力するフォームを表示する |
| C-2 | 問い合わせ送信 | 入力内容をバリデーションし、データとして保存。受付番号を発行する |
| C-3 | 受付完了メール送信 | 受付番号・問い合わせ内容を記載した確認メールを自動送信する |

---

## サポート担当者向け機能

| ID | 機能名 | 概要 |
|----|--------|------|
| S-1 | ログイン / ログアウト | ログインID・パスワードによる認証。無効化されたアカウントはログイン不可 |
| S-2 | パスワード変更 | 自身のパスワードを変更する。管理者によるパスワードリセット後、初回ログイン時に変更を強制する |
| S-3 | 問い合わせ一覧表示 | 全問い合わせを一覧で表示する（ページネーション付き） |
| S-4 | 問い合わせ詳細表示 | 1件の問い合わせ内容、全メッセージ（顧客・担当者）、ステータスを表示する |
| S-5 | ステータス変更 | 問い合わせのステータス（未対応・対応中・対応完了・クローズ）を変更する |
| S-6 | 優先度設定 | 低・中・高・緊急の4段階で優先度を設定する |
| S-7 | 担当者割り当て | 問い合わせに対応担当者をアサインする |
| S-8 | 対応メモ追加 | 社内向けの対応メモを追記する（顧客には非公開） |
| S-9 | 返信メール作成・送信 | 顧客への返信メールを作成し送信する |
| S-10 | 顧客メッセージ手動登録 | 顧客から受信したメールの件名・本文をシステムに手動で転記・登録する。メッセージ種別は「顧客返信」として記録される |
| S-11 | 検索・絞り込み・ソート | ステータス、カテゴリ、優先度、担当者、キーワードで絞り込む。受付日時、優先度等でソートする |
| S-12 | ダッシュボード | 未対応件数、対応中件数、本日受付件数等のサマリを表示する |
| S-13 | 受信メール自動登録 | 顧客からの返信メールを自動的にシステムに取り込む（S-10の自動化） |

---

## 管理者向け機能

| ID | 機能名 | 概要 |
|----|--------|------|
| A-1 | 従業員一覧表示 | 全従業員を一覧で表示する |
| A-2 | 従業員作成 | ログインID、氏名、パスワード、管理者権限を指定して従業員を作成する |
| A-3 | 従業員編集 | 従業員の氏名、管理者権限を変更する。ログインIDは変更不可 |
| A-4 | 従業員有効/無効切替 | 従業員アカウントを有効化または無効化する。自分自身の操作は不可 |
| A-5 | 従業員削除 | 従業員を削除する。関連する問い合わせデータがある場合は削除不可。自分自身の削除は不可 |
| A-6 | パスワードリセット | 従業員のパスワードを一時パスワードにリセットする。有効期限は7日間。自分自身のリセットは不可 |
| A-7 | カテゴリ一覧表示 | 問い合わせカテゴリを一覧で表示する |
| A-8 | カテゴリ作成 | カテゴリ名と表示順を指定してカテゴリを作成する |
| A-9 | カテゴリ編集 | カテゴリ名と表示順を変更する |
| A-10 | カテゴリ有効/無効切替 | カテゴリを有効化または無効化する。無効なカテゴリは問い合わせフォームに表示されない |
| A-11 | カテゴリ削除 | カテゴリを削除する。関連する問い合わせデータがある場合は削除不可 |

---

## 実装フェーズ

| フェーズ | 機能 |
|----------|------|
| 第1フェーズ | C-1〜C-3、S-1〜S-10、A-1〜A-11 |
| 第2フェーズ | S-13 受信メール自動登録 |
| 第3フェーズ | S-11 検索・絞り込み・ソート |
| 第4フェーズ | S-12 ダッシュボード |

※第2フェーズ（S-13）が実装されるまでは、顧客からの返信メールは担当者がS-10（顧客メッセージ手動登録）でシステムに転記する運用。

---
